<launch>
    <let name = "urdf_xacro_path" value = "$(find-pkg-share rover_description)/urdf/rover.urdf.xacro" />
    <let name = "world" value = "$(find-pkg-share rover_worlds)/worlds/empty.sdf" />
    <let name = "gazebo_config_path" value = "$(find-pkg-share rover_bringup)/config/gazebo_bridge.yaml" />

    <node pkg = "robot_state_publisher" exec = "robot_state_publisher">
        <param name = "robot_description" value = "$(command 'xacro $(var urdf_xacro_path)')" />
    </node>

    <include file = "$(find-pkg-share ros_gz_sim)/launch/gz_sim.launch.py">
        <arg name = "gz_args" value = "$(var world) -r" />
    </include>

    <node pkg = "ros_gz_sim" exec = "create" args = "-topic robot_description" />
    <node pkg = "ros_gz_bridge" exec = "parameter_bridge">
        <param name = "config_file" value = "$(var gazebo_config_path)" />
    </node>
</launch>